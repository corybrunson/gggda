<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A tidyverse extension for ordinations and biplots • ordr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A tidyverse extension for ordinations and biplots">
<meta property="og:description" content="A unified framework for ordination objects and biplot methods using
    tidy principles.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ordr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="ordr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ordr" class="anchor"></a>ordr</h1></div>
<p><strong>ordr</strong> is designed to integrate ordination analysis and biplot visualization into a <a href="https://github.com/tidyverse/tidyverse"><strong>tidyverse</strong></a> workflow.</p>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>motivation</h2>
<div id="ordination-and-biplots" class="section level3">
<h3 class="hasAnchor">
<a href="#ordination-and-biplots" class="anchor"></a>ordination and biplots</h3>
<p><em>Ordination</em> is a catch-all term for a variety of statistical techniques that introduce an artificial coordinate system for a data set in such a way that a few coordinates capture a large amount of the data structure [1]. The branch of mathematical statistics called <a href="https://www.springer.com/us/book/9781402022357">geometric data analysis</a> (GDA) provides the theoretical basis for (most of) these techniques. Together with regression, ordination can be contrasted to clustering and classification, in that they assign continuous rather than discrete values to data elements.</p>
<p>Most ordination techniques decompose a numeric rectangular data set into the product of two matrices, often using singular value decomposition. The coordinates of the shared dimensions of these matrices (over which they are multiplied) are the artificial coordinates. In some cases, such as principal components analysis, the decomposition is exact; in others, such as non-negative matrix factorization, it is approximate. Some techniques, such as correspondence analysis, transform the data before decomposition. Ordination techniques may be supervised, like linear discriminant analysis, or unsupervised, like multidimensional scaling.</p>
<p>Analysis pipelines that use these techniques may use the artificial coordinates directly, in place of natural coordinates, to arrange and compare data elements or to predict responses. This is possible because both the rows and the columns of the original table can be located, or positioned, along these shared coordinates. The number of artificial coordinates used in an application, such as regression or visualization, is called the <em>rank</em> of the ordination [2]. A common application is the <em>biplot</em>, which positions the rows and columns of the original table in a scatterplot of 1, 2, or 3 artificial coordinates, usually those that explain the most variation in the data.</p>
</div>
<div id="implementations-in-r" class="section level3">
<h3 class="hasAnchor">
<a href="#implementations-in-r" class="anchor"></a>implementations in R</h3>
<p>An extensive range of ordination techniques are already implemented in R, from classical multidimensional scaling (<code><a href="https://rdrr.io/r/stats/cmdscale.html">stats::cmdscale()</a></code>) and principal components analysis (<code><a href="https://rdrr.io/r/stats/prcomp.html">stats::prcomp()</a></code> and <code><a href="https://rdrr.io/r/stats/princomp.html">stats::princomp()</a></code>) in the <strong>stats</strong> package distributed with base R, across widely-used implementations of linear discriminant analysis (<code><a href="https://rdrr.io/pkg/MASS/man/lda.html">MASS::lda()</a></code>) and correspondence analysis (<code><a href="https://rdrr.io/pkg/ca/man/ca.html">ca::ca()</a></code>) in general-use statistical packages, to highly specialized packages that implement cutting-edge techniques or adapt conventional techniques to challenging settings. These implementations come with their own conventions, tailored to the research communities that produced them, and it would be impractical (and probably unhelpful) to try to consolidate them.</p>
<p>Instead, <strong>ordr</strong> provides a streamlined process by which the outputs of these methods—in particular, the matrix factors into which the original data are approximately decomposed and the artificial coordinates they share—can be inspected, annotated, tidied, and visualized. On this last point, most biplot implementations in R provide limited customizability, and <strong>ordr</strong> adopts the grammar of graphics paradigm from <strong>ggplot2</strong> to modularize biplot elements. The package as a whole is designed to follow the broader syntactic and grammatical conventions of the <strong>tidyverse</strong>, so that users familiar with a this workflow can more easily and quickly integrate ordination models into practice.</p>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>usage</h2>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>installation</h3>
<p><strong>ordr</strong> remains under development and is not scheduled for a CRAN release. For now, it can be installed from the (default) <code>main</code> branch using <a href="https://github.com/r-lib/remotes"><strong>remotes</strong></a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"corybrunson/ordr"</span><span class="op">)</span></code></pre></div>
</div>
<div id="pca-example" class="section level3">
<h3 class="hasAnchor">
<a href="#pca-example" class="anchor"></a>PCA example</h3>
<p>Principal components analysis (PCA) is by far the most widely-used ordination technique. This example performs an uncentered PCA on a small data set of personal expenditures over twenty years and represents the data in a symmetric biplot. At each step the result is printed, so that the user can see the effect of each step on the <code>prcomp</code> object.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">USPersonalExpenditure</span>
<span class="co">#&gt;                       1940   1945  1950 1955  1960</span>
<span class="co">#&gt; Food and Tobacco    22.200 44.500 59.60 73.2 86.80</span>
<span class="co">#&gt; Household Operation 10.500 15.500 29.00 36.5 46.20</span>
<span class="co">#&gt; Medical and Health   3.530  5.760  9.71 14.0 21.10</span>
<span class="co">#&gt; Personal Care        1.040  1.980  2.45  3.4  5.40</span>
<span class="co">#&gt; Private Education    0.341  0.974  1.80  2.6  3.64</span>
<span class="co"># perform principal components analysis</span>
<span class="op">(</span><span class="va">spend_pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html">prcomp</a></span><span class="op">(</span><span class="va">USPersonalExpenditure</span>, center <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Standard deviations (1, .., p=5):</span>
<span class="co">#&gt; [1] 78.04471215  3.95649695  1.26733701  0.18412188  0.04367521</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Rotation (n x k) = (5 x 5):</span>
<span class="co">#&gt;             PC1         PC2        PC3         PC4         PC5</span>
<span class="co">#&gt; 1940 -0.1589586  0.11313761  0.1824780 -0.89728506 -0.35144462</span>
<span class="co">#&gt; 1945 -0.3016855  0.79223017 -0.5274149  0.02654943  0.04985844</span>
<span class="co">#&gt; 1950 -0.4293572  0.21081041  0.6202698 -0.01464040  0.62150007</span>
<span class="co">#&gt; 1955 -0.5323309  0.02659741  0.3024320  0.42107353 -0.66869157</span>
<span class="co">#&gt; 1960 -0.6449761 -0.56073415 -0.4607988 -0.12906349  0.20146975</span>
<span class="co"># wrap the model as a `tbl_ord` object</span>
<span class="op">(</span><span class="va">spend_pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tbl_ord.html">as_tbl_ord</a></span><span class="op">(</span><span class="va">spend_pca</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tbl_ord of class 'prcomp': (5 x 5) x (5 x 5)'</span>
<span class="co">#&gt; # 5 coordinates: PC1, PC2, ..., PC5</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Rows: [ 5 x 5 | 0 ]</span>
<span class="co">#&gt;       PC1    PC2    PC3 ... | </span>
<span class="co">#&gt;                             | </span>
<span class="co">#&gt; 1 -137.    3.61  -0.310     | </span>
<span class="co">#&gt; 2  -68.0  -5.35   1.48  ... | </span>
<span class="co">#&gt; 3  -27.5  -4.45  -1.86      | </span>
<span class="co">#&gt; 4   -7.11 -0.735 -0.795     | </span>
<span class="co">#&gt; 5   -4.85 -0.782 -0.226     | </span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Columns: [ 5 x 5 | 0 ]</span>
<span class="co">#&gt;      PC1     PC2    PC3 ... | </span>
<span class="co">#&gt;                             | </span>
<span class="co">#&gt; 1 -0.159  0.113   0.182     | </span>
<span class="co">#&gt; 2 -0.302  0.792  -0.527 ... | </span>
<span class="co">#&gt; 3 -0.429  0.211   0.620     | </span>
<span class="co">#&gt; 4 -0.532  0.0266  0.302     | </span>
<span class="co">#&gt; 5 -0.645 -0.561  -0.461     |</span>
<span class="co"># augment the cases and variables with metadata</span>
<span class="op">(</span><span class="va">spend_pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/augmentation.html">augment_ord</a></span><span class="op">(</span><span class="va">spend_pca</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tbl_ord of class 'prcomp': (5 x 5) x (5 x 5)'</span>
<span class="co">#&gt; # 5 coordinates: PC1, PC2, ..., PC5</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Rows: [ 5 x 5 | 1 ]</span>
<span class="co">#&gt;       PC1    PC2    PC3 ... |   .name              </span>
<span class="co">#&gt;                             |   &lt;chr&gt;              </span>
<span class="co">#&gt; 1 -137.    3.61  -0.310     | 1 Food and Tobacco   </span>
<span class="co">#&gt; 2  -68.0  -5.35   1.48  ... | 2 Household Operation</span>
<span class="co">#&gt; 3  -27.5  -4.45  -1.86      | 3 Medical and Health </span>
<span class="co">#&gt; 4   -7.11 -0.735 -0.795     | 4 Personal Care      </span>
<span class="co">#&gt; 5   -4.85 -0.782 -0.226     | 5 Private Education  </span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Columns: [ 5 x 5 | 1 ]</span>
<span class="co">#&gt;      PC1     PC2    PC3 ... |   .name</span>
<span class="co">#&gt;                             |   &lt;chr&gt;</span>
<span class="co">#&gt; 1 -0.159  0.113   0.182     | 1 1940 </span>
<span class="co">#&gt; 2 -0.302  0.792  -0.527 ... | 2 1945 </span>
<span class="co">#&gt; 3 -0.429  0.211   0.620     | 3 1950 </span>
<span class="co">#&gt; 4 -0.532  0.0266  0.302     | 4 1955 </span>
<span class="co">#&gt; 5 -0.645 -0.561  -0.461     | 5 1960</span>
<span class="co"># annotate the cases or variables</span>
<span class="op">(</span><span class="va">spend_pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/dplyr-verbs.html">mutate_cols</a></span><span class="op">(</span><span class="va">spend_pca</span>, year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span><span class="op">(</span><span class="va">.name</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tbl_ord of class 'prcomp': (5 x 5) x (5 x 5)'</span>
<span class="co">#&gt; # 5 coordinates: PC1, PC2, ..., PC5</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Rows: [ 5 x 5 | 1 ]</span>
<span class="co">#&gt;       PC1    PC2    PC3 ... |   .name              </span>
<span class="co">#&gt;                             |   &lt;chr&gt;              </span>
<span class="co">#&gt; 1 -137.    3.61  -0.310     | 1 Food and Tobacco   </span>
<span class="co">#&gt; 2  -68.0  -5.35   1.48  ... | 2 Household Operation</span>
<span class="co">#&gt; 3  -27.5  -4.45  -1.86      | 3 Medical and Health </span>
<span class="co">#&gt; 4   -7.11 -0.735 -0.795     | 4 Personal Care      </span>
<span class="co">#&gt; 5   -4.85 -0.782 -0.226     | 5 Private Education  </span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Columns: [ 5 x 5 | 2 ]</span>
<span class="co">#&gt;      PC1     PC2    PC3 ... |   .name  year</span>
<span class="co">#&gt;                             |   &lt;chr&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1 -0.159  0.113   0.182     | 1 1940   1940</span>
<span class="co">#&gt; 2 -0.302  0.792  -0.527 ... | 2 1945   1945</span>
<span class="co">#&gt; 3 -0.429  0.211   0.620     | 3 1950   1950</span>
<span class="co">#&gt; 4 -0.532  0.0266  0.302     | 4 1955   1955</span>
<span class="co">#&gt; 5 -0.645 -0.561  -0.461     | 5 1960   1960</span>
<span class="co"># confer inertia equally between cases and variables</span>
<span class="op">(</span><span class="va">spend_pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/conference.html">confer_inertia</a></span><span class="op">(</span><span class="va">spend_pca</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tbl_ord of class 'prcomp': (5 x 5) x (5 x 5)'</span>
<span class="co">#&gt; # 5 coordinates: PC1, PC2, ..., PC5</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Rows: [ 5 x 5 | 1 ]</span>
<span class="co">#&gt;       PC1    PC2    PC3 ... |   .name              </span>
<span class="co">#&gt;                             |   &lt;chr&gt;              </span>
<span class="co">#&gt; 1 -11.0    1.28  -0.195     | 1 Food and Tobacco   </span>
<span class="co">#&gt; 2  -5.44  -1.90   0.929 ... | 2 Household Operation</span>
<span class="co">#&gt; 3  -2.20  -1.58  -1.17      | 3 Medical and Health </span>
<span class="co">#&gt; 4  -0.569 -0.261 -0.499     | 4 Personal Care      </span>
<span class="co">#&gt; 5  -0.388 -0.278 -0.142     | 5 Private Education  </span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Columns: [ 5 x 5 | 2 ]</span>
<span class="co">#&gt;     PC1     PC2    PC3 ... |   .name  year</span>
<span class="co">#&gt;                            |   &lt;chr&gt; &lt;int&gt;</span>
<span class="co">#&gt; 1 -1.99  0.318   0.291     | 1 1940   1940</span>
<span class="co">#&gt; 2 -3.77  2.23   -0.840 ... | 2 1945   1945</span>
<span class="co">#&gt; 3 -5.36  0.593   0.988     | 3 1950   1950</span>
<span class="co">#&gt; 4 -6.65  0.0748  0.481     | 4 1955   1955</span>
<span class="co">#&gt; 5 -8.06 -1.58   -0.734     | 5 1960   1960</span>
<span class="co"># render a biplot, by default on the first two shared coordinates</span>
<span class="fu"><a href="reference/ggbiplot.html">ggbiplot</a></span><span class="op">(</span><span class="va">spend_pca</span>, <span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="va">.name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-geoms.html">geom_cols_vector</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>color <span class="op">=</span> <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-geoms.html">geom_cols_text_radiate</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-geoms.html">geom_rows_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-geoms.html">geom_rows_text_repel</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">expand_limits</span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2.75</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span>
    <span class="st">"U.S. Personal Expenditure data, 1940-1960"</span>,
    <span class="st">"Symmetric biplot of un-centered PCA"</span>
  <span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-PCA%20example-1.png"><!-- --></p>
</div>
<div id="mds-example" class="section level3">
<h3 class="hasAnchor">
<a href="#mds-example" class="anchor"></a>MDS example</h3>
<p>Multidimensional scaling (MDS) is an ordination technique that starts not with rectangular data but with interpoint distances. A common illustration of its power is to calculate MDS on the set of distances—however measured—between geographic locations, and to recover the approximate geography via a biplot. This example is adapted from the documentation of <code><a href="https://rdrr.io/r/stats/cmdscale.html">cmdscale()</a></code> in the <strong>stats</strong> package; note that <strong>ordr</strong> provides the wrapper <code><a href="reference/wrap-ord.html">cmdscale_ord()</a></code> that always returns the eigenvalues and the symmetric distance matrix produced during the calculation. The MDS uses 11 coordinates—the number of positive eigenvalues—so that <code>stat_*_spantree()</code> can call upon them to recover the intercity distances.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># `tbl_ord` object for a classical MDS on distances between European cities</span>
<span class="va">eurodist</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/wrap-ord.html">cmdscale_ord</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/tbl_ord.html">as_tbl_ord</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/augmentation.html">augment_ord</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="va">city_mds</span>
<span class="co">#&gt; # A tbl_ord of class 'cmds_ord': (21 x 11) x (21 x 11)'</span>
<span class="co">#&gt; # 11 coordinates: PCo1, PCo2, ..., PCo11</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Rows: [ 21 x 11 | 1 ]</span>
<span class="co">#&gt;     PCo1  PCo2   PCo3 ... |   .name    </span>
<span class="co">#&gt;                           |   &lt;chr&gt;    </span>
<span class="co">#&gt; 1 2290.  1799.   53.8     | 1 Athens   </span>
<span class="co">#&gt; 2 -825.   547. -114.  ... | 2 Barcelona</span>
<span class="co">#&gt; 3   59.2 -367.  178.      | 3 Brussels </span>
<span class="co">#&gt; 4  -82.8 -430.  300.      | 4 Calais   </span>
<span class="co">#&gt; 5 -352.  -291.  457.      | 5 Cherbourg</span>
<span class="co">#&gt; # … with 16 more rows</span>
<span class="co">#&gt; # </span>
<span class="co">#&gt; # Columns: [ 21 x 11 | 1 ]</span>
<span class="co">#&gt;     PCo1  PCo2   PCo3 ... |   .name    </span>
<span class="co">#&gt;                           |   &lt;chr&gt;    </span>
<span class="co">#&gt; 1 2290.  1799.   53.8     | 1 Athens   </span>
<span class="co">#&gt; 2 -825.   547. -114.  ... | 2 Barcelona</span>
<span class="co">#&gt; 3   59.2 -367.  178.      | 3 Brussels </span>
<span class="co">#&gt; 4  -82.8 -430.  300.      | 4 Calais   </span>
<span class="co">#&gt; 5 -352.  -291.  457.      | 5 Cherbourg</span>
<span class="co">#&gt; # … with 16 more rows</span>
<span class="co"># 2D biplot aligned with geography</span>
<span class="va">city_mds</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/ggbiplot.html">ggbiplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_y_reverse</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-stats.html">stat_cols_spantree</a></span><span class="op">(</span>
    <span class="fu"><a href="reference/ggbiplot.html">ord_aes</a></span><span class="op">(</span><span class="va">city_mds</span><span class="op">)</span>, check.aes <span class="op">=</span> <span class="cn">FALSE</span>,
    alpha <span class="op">=</span> <span class="fl">.5</span>, linetype <span class="op">=</span> <span class="st">"dotted"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/biplot-geoms.html">geom_cols_text</a></span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>label <span class="op">=</span> <span class="va">.name</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"MDS biplot of road distances between European cities"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-MDS%20example-1.png"><!-- --></p>
</div>
</div>
<div id="acknowledgments" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgments" class="anchor"></a>acknowledgments</h2>
<div id="contribute" class="section level3">
<h3 class="hasAnchor">
<a href="#contribute" class="anchor"></a>contribute</h3>
<p>Any feedback on the package is very welcome! If you encounter confusion or errors, please create an issue with a reproducible example. If you have requests, suggestions, or your own implementations for new features, feel free to create an issue or submit a pull request. Methods for additional ordination classes (see the <code>methods-*.r</code> scripts in the <code>R</code> folder) are especially welcome, as are new plot layers. See the <a href="https://github.com/corybrunson/ordr/blob/main/CONTRIBUTING.md">CONTRIBUTING</a> file for guidance, and please respect the <a href="https://github.com/corybrunson/ordr/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a>.</p>
</div>
<div id="inspiration" class="section level3">
<h3 class="hasAnchor">
<a href="#inspiration" class="anchor"></a>inspiration</h3>
<p>This package was originally inspired by the <strong>ggbiplot</strong> extension developed by <a href="https://github.com/vqv/ggbiplot">vqv</a>, <a href="https://github.com/richardjtelford/ggbiplot">richardjtelford</a>, and <a href="https://github.com/GegznaV/ggbiplot">GegnzaV</a>, among others. So far as i know, it first brought biplots into the <strong>tidyverse</strong> framework. The motivation to unify a variety of ordination methods came from <a href="https://www.barcelonagse.eu/research/publications/all?author=Michael%20Greenacre">several books and articles</a> by Michael Greenacre. Thomas Lin Pedersen’s <a href="https://github.com/thomasp85/tidygraph"><strong>tidygraph</strong></a> sequel to <strong>ggraph</strong> finally induced the shift from the downstream generation scatterplots to the upstream handling and manipulating ordination models.</p>
<p>[1] The term <em>ordination</em> is most prevalent among ecologists; to my knowledge, no catch-all term is in common use outside ecology.</p>
<p>[2] Regression and clustering models, like classical <a href="http://www.multivariatestatistics.org/chapter2.html">linear regression</a> and <a href="http://joelcadwell.blogspot.com/2015/08/matrix-factorization-comes-in-many.html"><em>k</em>-means</a>, can also be understood as matrix decomposition approximations and even visualized in biplots. Their shared coordinates, which are pre-defined rather than artificial, are the predictor coefficients and the cluster assignments, respectively. Methods for <code><a href="https://rdrr.io/r/stats/lm.html">stats::lm()</a></code> and <code><a href="https://rdrr.io/r/stats/kmeans.html">stats::kmeans()</a></code>, for example, are implemented for the sake of novelty and instruction, but are not widely used in practice.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jason Cory Brunson <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-3126-9494" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/corybrunson/ordr"><img src="https://travis-ci.org/corybrunson/ordr.svg?branch=main" alt="Travis"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jason Cory Brunson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
