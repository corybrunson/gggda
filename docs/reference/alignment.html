<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Alignment of ordinations — alignment • ordr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Alignment of ordinations — alignment" />
<meta property="og:description" content="Align one ordination to another having the same cases or
variables." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ordr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Alignment of ordinations</h1>
    
    <div class="hidden name"><code>alignment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Align one ordination to another having the same cases or
variables.</p>
    </div>

    <pre class="usage"><span class='fu'>get_alignment</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>revert_alignment</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>negate_ord</span><span class='op'>(</span><span class='va'>x</span>, negation <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>permute_ord</span><span class='op'>(</span><span class='va'>x</span>, permutation <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>rotate_ord</span><span class='op'>(</span><span class='va'>x</span>, rotation <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>negation_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>

<span class='fu'>negate_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>.matrix</span><span class='op'>)</span>

<span class='fu'>negate_to_nonneg_orthant</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>.matrix</span><span class='op'>)</span>

<span class='fu'>permutation_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, abs.values <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>permute_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>.matrix</span><span class='op'>)</span>

<span class='fu'>rotation_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span><span class='op'>)</span>

<span class='fu'>rotate_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>.matrix</span><span class='op'>)</span>

<span class='fu'>align_to</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>.matrix</span>, method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"negate"</span>, <span class='st'>"permute"</span>, <span class='st'>"rotate"</span><span class='op'>)</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x, y</th>
      <td><p>Matrices or <a href='tbl_ord.html'>tbl_ord</a>s; <code>x</code> will be aligned to <code>y</code>.</p></td>
    </tr>
    <tr>
      <th>negation, permutation, rotation</th>
      <td><p>Numeric or character vector of
coordinates to negate or permute, or a matrix that performs an operation by
right-multiplication.</p></td>
    </tr>
    <tr>
      <th>.matrix</th>
      <td><p>A character string matching one of several indicators for one
or both matrices in a matrix decomposition used for ordination. The
standard values are <code>"rows"</code>, <code>"cols"</code>, and <code>"dims"</code> (for both).</p></td>
    </tr>
    <tr>
      <th>abs.values</th>
      <td><p>Whether <code>permute_to()</code> should reorder coordinates according
to dot product magnitudes (angles closest to straight, whether \(0\) or
\(\pi\), versus angles closest to \(0\)).</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Character, one of <code>"negate"</code>, <code>"permute"</code>, or <code>"rotate"</code>,
indicating the alignment method to use.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For purposes of comparison and visualization, it can be useful to transform
the (already artificial) coordinates of an ordination, either by fixed
criteria or to better align with another basis (matrix) of coordinates.
<code>negate_ord()</code>, <code>permute_ord()</code>, and <code>rotate_ord()</code> allow the user to
manually transform the coordinates of an ordination by specifying the
coordinates to be negated or permuted, or by providing the rotation matrix.</p>
<p><code>negate_to()</code>, <code>permute_to()</code>, and <code>rotate_to()</code> manipulate the coordinates
of one ordination so that the positions of the cases or variables align, as
closely as possible, to those of the same cases or variables in another
ordination. In the case of negation and permutation, this is done by
minimizing the angles between vectors of scores or loadings in the respective
coordinates. In the case of rotation, this is done by invoking the singular
value decomposition method of point cloud registration (Bellekens &amp;al, 2014).</p>
<p>The helper functions <code>negation_to()</code>, <code>permutation_to()</code>, and <code>rotation_to()</code>
take only matrix inputs and return matrices that perform the specified
transformations.</p>
<p><code>get_alignment()</code> accesses the alignment matrix of an ordination; after
multiple transformations, this matrix will be their composition (product).
<code>revert_alignment()</code> undoes all alignments. Currently alignments are stored
as an <code>"align"</code> attribute.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bellekens B, Spruyt V, Berkvens R, &amp; Weyn M (2014) "A survey of rigid 3D
pointcloud registration algorithms". <em>Fourth International Conference on
Ambient Computing, Applications, Services and Technologies, Proceedings</em>:
8--13. <a href='https://biblio.ugent.be/publication/5713477'>https://biblio.ugent.be/publication/5713477</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Align MDS for distances between American cities with compass orientation</span>
<span class='va'>UScitiesD</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='wrap-ord.html'>cmdscale_ord</a></span><span class='op'>(</span>k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='tbl_ord.html'>as_tbl_ord</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://generics.r-lib.org/reference/augment.html'>augment</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>usa_mds</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (10 x 2) x (10 x 2)'
#&gt; # 2 coordinates: PCo1 and PCo2
#&gt; # 
#&gt; # Rows: [ 10 x 2 | 1 ]
#&gt;      PCo1   PCo2 |    .name        
#&gt;                  |    <span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>  -</span><span style='color: #BB0000;'>719.</span><span>  143.  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>  -</span><span style='color: #BB0000;'>382.</span><span> -</span><span style='color: #BB0000;'>341.</span><span>  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>   482.  -</span><span style='color: #BB0000;'>25.3</span><span> | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>  -</span><span style='color: #BB0000;'>161.</span><span>  573.  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span>  </span><span style='text-decoration: underline;'>1</span><span>204.  390.  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>134.</span><span>  582.  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>072.</span><span> -</span><span style='color: #BB0000;'>519.</span><span>  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span>  </span><span style='text-decoration: underline;'>1</span><span>421.  113.  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span>  </span><span style='text-decoration: underline;'>1</span><span>342. -</span><span style='color: #BB0000;'>580.</span><span>  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>  -</span><span style='color: #BB0000;'>980.</span><span> -</span><span style='color: #BB0000;'>335.</span><span>  | </span><span style='color: #555555;'>10</span><span> Washington.DC
#&gt; # 
#&gt; # Columns: [ 10 x 2 | 1 ]
#&gt;      PCo1   PCo2 |    .name        
#&gt;                  |    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>  -</span><span style='color: #BB0000;'>719.</span><span>  143.  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>  -</span><span style='color: #BB0000;'>382.</span><span> -</span><span style='color: #BB0000;'>341.</span><span>  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>   482.  -</span><span style='color: #BB0000;'>25.3</span><span> | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>  -</span><span style='color: #BB0000;'>161.</span><span>  573.  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span>  </span><span style='text-decoration: underline;'>1</span><span>204.  390.  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>134.</span><span>  582.  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>072.</span><span> -</span><span style='color: #BB0000;'>519.</span><span>  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span>  </span><span style='text-decoration: underline;'>1</span><span>421.  113.  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span>  </span><span style='text-decoration: underline;'>1</span><span>342. -</span><span style='color: #BB0000;'>580.</span><span>  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>  -</span><span style='color: #BB0000;'>980.</span><span> -</span><span style='color: #BB0000;'>335.</span><span>  | </span><span style='color: #555555;'>10</span><span> Washington.DC</div><div class='input'><span class='va'>usa_mds</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='geom-biplot-text.html'>geom_cols_text</a></span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>.name</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"MDS biplot of distances between American cities"</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>get_alignment</span><span class='op'>(</span><span class='va'>usa_mds</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      PCo1 PCo2
#&gt; [1,]    1    0
#&gt; [2,]    0    1</div><div class='input'><span class='co'># negation</span>
<span class='va'>usa_mds</span> <span class='op'>%&gt;%</span>
  <span class='fu'>negate_ord</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>usa_mds_negate</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (10 x 2) x (10 x 2)'
#&gt; # 2 coordinates, transformed: PCo1 and PCo2
#&gt; # 
#&gt; # Rows: [ 10 x 2 | 1 ]
#&gt;      PCo1   PCo2 |    .name        
#&gt;                  |    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>   719. -</span><span style='color: #BB0000;'>143.</span><span>  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>   382.  341.  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>  -</span><span style='color: #BB0000;'>482.</span><span>   25.3 | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>   161. -</span><span style='color: #BB0000;'>573.</span><span>  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>204.</span><span> -</span><span style='color: #BB0000;'>390.</span><span>  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>1</span><span>134. -</span><span style='color: #BB0000;'>582.</span><span>  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>1</span><span>072.  519.  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>421.</span><span> -</span><span style='color: #BB0000;'>113.</span><span>  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>342.</span><span>  580.  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>   980.  335.  | </span><span style='color: #555555;'>10</span><span> Washington.DC
#&gt; # 
#&gt; # Columns: [ 10 x 2 | 1 ]
#&gt;      PCo1   PCo2 |    .name        
#&gt;                  |    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>   719. -</span><span style='color: #BB0000;'>143.</span><span>  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>   382.  341.  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>  -</span><span style='color: #BB0000;'>482.</span><span>   25.3 | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>   161. -</span><span style='color: #BB0000;'>573.</span><span>  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>204.</span><span> -</span><span style='color: #BB0000;'>390.</span><span>  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>1</span><span>134. -</span><span style='color: #BB0000;'>582.</span><span>  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>1</span><span>072.  519.  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>421.</span><span> -</span><span style='color: #BB0000;'>113.</span><span>  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>342.</span><span>  580.  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>   980.  335.  | </span><span style='color: #555555;'>10</span><span> Washington.DC</div><div class='input'><span class='fu'>get_alignment</span><span class='op'>(</span><span class='va'>usa_mds_negate</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      PCo1 PCo2
#&gt; [1,]   -1    0
#&gt; [2,]    0   -1</div><div class='input'><span class='va'>usa_mds_negate</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='geom-biplot-text.html'>geom_cols_text</a></span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>.name</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Negated MDS biplot of distances between American cities"</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># rotation</span>
<span class='va'>usa_mds</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rotate_ord</span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/diag.html'>diag</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>usa_mds_rotate</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if `.name_repair` is omitted as of tibble 2.0.0.</span>
#&gt; <span class='warning'>Using compatibility `.name_repair`.</span>
#&gt; <span class='warning'></span><span style='color: #555555;'>This warning is displayed once every 8 hours.</span><span></span>
#&gt; <span class='warning'></span><span style='color: #555555;'>Call `lifecycle::last_warnings()` to see where this warning was generated.</span><span></span></div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (10 x 2) x (10 x 2)'
#&gt; # 2 coordinates, transformed: V1 and V2
#&gt; # 
#&gt; # Rows: [ 10 x 2 | 1 ]
#&gt;        V1     V2 |    .name        
#&gt;                  |    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>   719. -</span><span style='color: #BB0000;'>143.</span><span>  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>   382.  341.  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>  -</span><span style='color: #BB0000;'>482.</span><span>   25.3 | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>   161. -</span><span style='color: #BB0000;'>573.</span><span>  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>204.</span><span> -</span><span style='color: #BB0000;'>390.</span><span>  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>1</span><span>134. -</span><span style='color: #BB0000;'>582.</span><span>  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>1</span><span>072.  519.  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>421.</span><span> -</span><span style='color: #BB0000;'>113.</span><span>  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>342.</span><span>  580.  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>   980.  335.  | </span><span style='color: #555555;'>10</span><span> Washington.DC
#&gt; # 
#&gt; # Columns: [ 10 x 2 | 1 ]
#&gt;        V1     V2 |    .name        
#&gt;                  |    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>        
#&gt; </span><span style='color: #555555;'> 1</span><span>   719. -</span><span style='color: #BB0000;'>143.</span><span>  | </span><span style='color: #555555;'> 1</span><span> Atlanta      
#&gt; </span><span style='color: #555555;'> 2</span><span>   382.  341.  | </span><span style='color: #555555;'> 2</span><span> Chicago      
#&gt; </span><span style='color: #555555;'> 3</span><span>  -</span><span style='color: #BB0000;'>482.</span><span>   25.3 | </span><span style='color: #555555;'> 3</span><span> Denver       
#&gt; </span><span style='color: #555555;'> 4</span><span>   161. -</span><span style='color: #BB0000;'>573.</span><span>  | </span><span style='color: #555555;'> 4</span><span> Houston      
#&gt; </span><span style='color: #555555;'> 5</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>204.</span><span> -</span><span style='color: #BB0000;'>390.</span><span>  | </span><span style='color: #555555;'> 5</span><span> LosAngeles   
#&gt; </span><span style='color: #555555;'> 6</span><span>  </span><span style='text-decoration: underline;'>1</span><span>134. -</span><span style='color: #BB0000;'>582.</span><span>  | </span><span style='color: #555555;'> 6</span><span> Miami        
#&gt; </span><span style='color: #555555;'> 7</span><span>  </span><span style='text-decoration: underline;'>1</span><span>072.  519.  | </span><span style='color: #555555;'> 7</span><span> NewYork      
#&gt; </span><span style='color: #555555;'> 8</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>421.</span><span> -</span><span style='color: #BB0000;'>113.</span><span>  | </span><span style='color: #555555;'> 8</span><span> SanFrancisco 
#&gt; </span><span style='color: #555555;'> 9</span><span> -</span><span style='color: #BB0000;text-decoration: underline;'>1</span><span style='color: #BB0000;'>342.</span><span>  580.  | </span><span style='color: #555555;'> 9</span><span> Seattle      
#&gt; </span><span style='color: #555555;'>10</span><span>   980.  335.  | </span><span style='color: #555555;'>10</span><span> Washington.DC</div><div class='input'><span class='fu'>get_alignment</span><span class='op'>(</span><span class='va'>usa_mds_rotate</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      [,1] [,2]
#&gt; [1,]   -1    0
#&gt; [2,]    0   -1</div><div class='input'><span class='va'>usa_mds_rotate</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='geom-biplot-text.html'>geom_cols_text</a></span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>.name</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>ggtitle</span><span class='op'>(</span><span class='st'>"Rotated MDS biplot of distances between American cities"</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># Align an MDS ordination to a PCA ordination</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>country_differences</span><span class='op'>)</span>
<span class='va'>country_differences</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='wrap-ord.html'>cmdscale_ord</a></span><span class='op'>(</span>k <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='tbl_ord.html'>as_tbl_ord</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>differences_cmds</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (13 x 2) x (13 x 2)'
#&gt; # 2 coordinates: PCo1 and PCo2
#&gt; # 
#&gt; # Rows: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span>  0.007</span><span style='text-decoration: underline;'>81</span><span> -</span><span style='color: #BB0000;'>2.94</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>1.02</span><span>    -</span><span style='color: #BB0000;'>3.68</span><span>  | 
#&gt; </span><span style='color: #555555;'>3</span><span>  3.70    -</span><span style='color: #BB0000;'>0.883</span><span> | 
#&gt; </span><span style='color: #555555;'>4</span><span> -</span><span style='color: #BB0000;'>2.56</span><span>    -</span><span style='color: #BB0000;'>2.01</span><span>  | 
#&gt; </span><span style='color: #555555;'>5</span><span>  4.41     2.91  | 
#&gt; 
#&gt; # 
#&gt; # Columns: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span>  0.007</span><span style='text-decoration: underline;'>81</span><span> -</span><span style='color: #BB0000;'>2.94</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>1.02</span><span>    -</span><span style='color: #BB0000;'>3.68</span><span>  | 
#&gt; </span><span style='color: #555555;'>3</span><span>  3.70    -</span><span style='color: #BB0000;'>0.883</span><span> | 
#&gt; </span><span style='color: #555555;'>4</span><span> -</span><span style='color: #BB0000;'>2.56</span><span>    -</span><span style='color: #BB0000;'>2.01</span><span>  | 
#&gt; </span><span style='color: #555555;'>5</span><span>  4.41     2.91  | 
#&gt; </div><div class='input'><span class='va'>country_differences</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/prcomp.html'>prcomp</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='tbl_ord.html'>as_tbl_ord</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>differences_pca</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'prcomp': (13 x 13) x (13 x 13)'
#&gt; # 13 coordinates: PC1, PC2, ..., PC13
#&gt; # 
#&gt; # Rows: [ 13 x 13 | 0 ]
#&gt;      PC1   PC2     PC3 ... | 
#&gt;                            | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>0.576</span><span>  5.50  3.17       | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>2.74</span><span>   6.34 -</span><span style='color: #BB0000;'>0.059</span><span style='color: #BB0000;text-decoration: underline;'>9</span><span> ... | 
#&gt; </span><span style='color: #555555;'>3</span><span>  7.37   2.28 -</span><span style='color: #BB0000;'>1.22</span><span>       | 
#&gt; </span><span style='color: #555555;'>4</span><span> -</span><span style='color: #BB0000;'>5.50</span><span>   2.88 -</span><span style='color: #BB0000;'>1.06</span><span>       | 
#&gt; </span><span style='color: #555555;'>5</span><span>  9.60  -</span><span style='color: #BB0000;'>4.05</span><span> -</span><span style='color: #BB0000;'>3.03</span><span>       | 
#&gt; 
#&gt; # 
#&gt; # Columns: [ 13 x 13 | 0 ]
#&gt;      PC1    PC2      PC3 ... | 
#&gt;                              | 
#&gt; </span><span style='color: #555555;'>1</span><span>  0.104 -</span><span style='color: #BB0000;'>0.423</span><span> -</span><span style='color: #BB0000;'>0.340</span><span>       | 
#&gt; </span><span style='color: #555555;'>2</span><span>  0.206 -</span><span style='color: #BB0000;'>0.475</span><span> -</span><span style='color: #BB0000;'>0.001</span><span style='color: #BB0000;text-decoration: underline;'>97</span><span> ... | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>0.289</span><span> -</span><span style='color: #BB0000;'>0.206</span><span>  0.121       | 
#&gt; </span><span style='color: #555555;'>4</span><span>  0.343 -</span><span style='color: #BB0000;'>0.250</span><span>  0.102       | 
#&gt; </span><span style='color: #555555;'>5</span><span> -</span><span style='color: #BB0000;'>0.352</span><span>  0.161  0.302       | 
#&gt; </div><div class='input'><span class='co'># negate PCA cases to MDS coordinates</span>
<span class='va'>differences_cmds</span> <span class='op'>%&gt;%</span>
  <span class='fu'>negate_to</span><span class='op'>(</span><span class='va'>differences_pca</span>, <span class='st'>"rows"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>differences_align_rows</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (13 x 2) x (13 x 2)'
#&gt; # 2 coordinates, transformed: PCo1 and PCo2
#&gt; # 
#&gt; # Rows: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span>  0.007</span><span style='text-decoration: underline;'>81</span><span>  2.94  | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>1.02</span><span>     3.68  | 
#&gt; </span><span style='color: #555555;'>3</span><span>  3.70     0.883 | 
#&gt; </span><span style='color: #555555;'>4</span><span> -</span><span style='color: #BB0000;'>2.56</span><span>     2.01  | 
#&gt; </span><span style='color: #555555;'>5</span><span>  4.41    -</span><span style='color: #BB0000;'>2.91</span><span>  | 
#&gt; 
#&gt; # 
#&gt; # Columns: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span>  0.007</span><span style='text-decoration: underline;'>81</span><span>  2.94  | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>1.02</span><span>     3.68  | 
#&gt; </span><span style='color: #555555;'>3</span><span>  3.70     0.883 | 
#&gt; </span><span style='color: #555555;'>4</span><span> -</span><span style='color: #BB0000;'>2.56</span><span>     2.01  | 
#&gt; </span><span style='color: #555555;'>5</span><span>  4.41    -</span><span style='color: #BB0000;'>2.91</span><span>  | 
#&gt; </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'>gridExtra</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html'>arrangeGrob</a></span><span class='op'>(</span>grobs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_cmds</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-point.html'>geom_rows_point</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_pca</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-point.html'>geom_rows_point</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_align_rows</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-point.html'>geom_rows_point</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># negate PCA variables to MDS coordinates</span>
<span class='va'>differences_cmds</span> <span class='op'>%&gt;%</span>
  <span class='fu'>negate_to</span><span class='op'>(</span><span class='va'>differences_pca</span>, <span class='st'>"cols"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>differences_align_cols</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'cmds_ord': (13 x 2) x (13 x 2)'
#&gt; # 2 coordinates, transformed: PCo1 and PCo2
#&gt; # 
#&gt; # Rows: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>0.007</span><span style='color: #BB0000;text-decoration: underline;'>81</span><span> -</span><span style='color: #BB0000;'>2.94</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span>  1.02    -</span><span style='color: #BB0000;'>3.68</span><span>  | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>3.70</span><span>    -</span><span style='color: #BB0000;'>0.883</span><span> | 
#&gt; </span><span style='color: #555555;'>4</span><span>  2.56    -</span><span style='color: #BB0000;'>2.01</span><span>  | 
#&gt; </span><span style='color: #555555;'>5</span><span> -</span><span style='color: #BB0000;'>4.41</span><span>     2.91  | 
#&gt; 
#&gt; # 
#&gt; # Columns: [ 13 x 2 | 0 ]
#&gt;       PCo1   PCo2 | 
#&gt;                   | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>0.007</span><span style='color: #BB0000;text-decoration: underline;'>81</span><span> -</span><span style='color: #BB0000;'>2.94</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span>  1.02    -</span><span style='color: #BB0000;'>3.68</span><span>  | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>3.70</span><span>    -</span><span style='color: #BB0000;'>0.883</span><span> | 
#&gt; </span><span style='color: #555555;'>4</span><span>  2.56    -</span><span style='color: #BB0000;'>2.01</span><span>  | 
#&gt; </span><span style='color: #555555;'>5</span><span> -</span><span style='color: #BB0000;'>4.41</span><span>     2.91  | 
#&gt; </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'>gridExtra</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html'>arrangeGrob</a></span><span class='op'>(</span>grobs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_cmds</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-vector.html'>geom_cols_vector</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_pca</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-vector.html'>geom_cols_vector</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>differences_align_cols</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='geom-biplot-vector.html'>geom_cols_vector</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-5.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># Compare relative frequences of hair and eye colors among men versus women</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>HairEyeColor</span><span class='op'>)</span>
<span class='va'>HairEyeColor</span><span class='op'>[</span>, , <span class='st'>"Male"</span><span class='op'>]</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ca</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ca/man/ca.html'>ca</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='tbl_ord.html'>as_tbl_ord</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>male_haireye_ca</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'ca': (4 x 3) x (4 x 3)'
#&gt; # 3 coordinates: Dim1, Dim2, Dim3
#&gt; # 
#&gt; # Rows: [ 4 x 3 | 0 ]
#&gt;     Dim1   Dim2   Dim3 | 
#&gt;                        | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>1.35</span><span>   0.578 -</span><span style='color: #BB0000;'>1.35</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>0.136</span><span>  0.173  0.950 | 
#&gt; </span><span style='color: #555555;'>3</span><span>  0.169 -</span><span style='color: #BB0000;'>2.62</span><span>  -</span><span style='color: #BB0000;'>0.550</span><span> | 
#&gt; </span><span style='color: #555555;'>4</span><span>  1.94   0.695 -</span><span style='color: #BB0000;'>0.901</span><span> | 
#&gt; # 
#&gt; # Columns: [ 4 x 3 | 0 ]
#&gt;     Dim1   Dim2    Dim3 | 
#&gt;                         | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>1.19</span><span>   0.314 -</span><span style='color: #BB0000;'>0.567</span><span>  | 
#&gt; </span><span style='color: #555555;'>2</span><span>  1.03   0.831  0.045</span><span style='text-decoration: underline;'>7</span><span> | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>0.349</span><span> -</span><span style='color: #BB0000;'>0.880</span><span>  2.01   | 
#&gt; </span><span style='color: #555555;'>4</span><span>  0.878 -</span><span style='color: #BB0000;'>2.22</span><span>  -</span><span style='color: #BB0000;'>1.32</span><span>   | </div><div class='input'><span class='va'>HairEyeColor</span><span class='op'>[</span>, , <span class='st'>"Female"</span><span class='op'>]</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ca</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ca/man/ca.html'>ca</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='tbl_ord.html'>as_tbl_ord</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>-&gt;</span> <span class='va'>female_haireye_ca</span>
</div><div class='output co'>#&gt; # A tbl_ord of class 'ca': (4 x 3) x (4 x 3)'
#&gt; # 3 coordinates: Dim1, Dim2, Dim3
#&gt; # 
#&gt; # Rows: [ 4 x 3 | 0 ]
#&gt;     Dim1   Dim2   Dim3 | 
#&gt;                        | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>0.940</span><span>  1.92  -</span><span style='color: #BB0000;'>0.683</span><span> | 
#&gt; </span><span style='color: #555555;'>2</span><span> -</span><span style='color: #BB0000;'>0.473</span><span> -</span><span style='color: #BB0000;'>0.441</span><span>  0.878 | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>0.505</span><span> -</span><span style='color: #BB0000;'>1.55</span><span>  -</span><span style='color: #BB0000;'>2.19</span><span>  | 
#&gt; </span><span style='color: #555555;'>4</span><span>  1.67   0.258 -</span><span style='color: #BB0000;'>0.111</span><span> | 
#&gt; # 
#&gt; # Columns: [ 4 x 3 | 0 ]
#&gt;      Dim1   Dim2   Dim3 | 
#&gt;                         | 
#&gt; </span><span style='color: #555555;'>1</span><span> -</span><span style='color: #BB0000;'>0.990</span><span>   0.728 -</span><span style='color: #BB0000;'>0.232</span><span> | 
#&gt; </span><span style='color: #555555;'>2</span><span>  1.26    0.382  0.149 | 
#&gt; </span><span style='color: #555555;'>3</span><span> -</span><span style='color: #BB0000;'>0.538</span><span>  -</span><span style='color: #BB0000;'>1.54</span><span>   1.77  | 
#&gt; </span><span style='color: #555555;'>4</span><span>  0.077</span><span style='text-decoration: underline;'>2</span><span> -</span><span style='color: #BB0000;'>1.99</span><span>  -</span><span style='color: #BB0000;'>2.27</span><span>  | </div><div class='input'><span class='va'>ca_biplot</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>ord</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='ggbiplot.html'>ggbiplot</a></span><span class='op'>(</span><span class='va'>ord</span>, <span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>.name</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='geom-biplot-point.html'>geom_rows_point</a></span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>size <span class='op'>=</span> <span class='va'>.mass</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"saddlebrown"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='geom-biplot-point.html'>geom_cols_point</a></span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>size <span class='op'>=</span> <span class='va'>.mass</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"seagreen4"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='geom-biplot-text.html'>geom_rows_text_repel</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"saddlebrown"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='geom-biplot-text.html'>geom_cols_text_repel</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"seagreen4"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>guides</span><span class='op'>(</span>size <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'>gridExtra</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html'>arrangeGrob</a></span><span class='op'>(</span>grobs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'>ca_biplot</span><span class='op'>(</span><span class='va'>male_haireye_ca</span><span class='op'>)</span>,
  <span class='fu'>ca_biplot</span><span class='op'>(</span><span class='va'>female_haireye_ca</span><span class='op'>)</span>
<span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-6.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># negation, permutation, and rotation</span>
<span class='va'>male_haireye_ca</span> <span class='op'>%&gt;%</span>
  <span class='fu'>negate_to</span><span class='op'>(</span><span class='va'>female_haireye_ca</span>, <span class='st'>"rows"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>get_alignment</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      Dim1 Dim2 Dim3
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0    1</div><div class='input'><span class='va'>male_haireye_ca</span> <span class='op'>%&gt;%</span>
  <span class='fu'>permute_to</span><span class='op'>(</span><span class='va'>female_haireye_ca</span>, <span class='st'>"rows"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>get_alignment</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt;      Dim1 Dim2 Dim3
#&gt; [1,]    1    0    0
#&gt; [2,]    0    1    0
#&gt; [3,]    0    0    1</div><div class='input'><span class='va'>male_haireye_ca</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rotate_to</span><span class='op'>(</span><span class='va'>female_haireye_ca</span>, <span class='st'>"rows"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>get_alignment</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt;            [,1]       [,2]       [,3]
#&gt; [1,]  0.9311875 -0.3635598 0.02672095
#&gt; [2,]  0.2438220  0.6756385 0.69574671
#&gt; [3,] -0.2709993 -0.6413555 0.71779002</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='fu'>gridExtra</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html'>arrangeGrob</a></span><span class='op'>(</span>grobs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  <span class='fu'>ca_biplot</span><span class='op'>(</span><span class='fu'>rotate_to</span><span class='op'>(</span><span class='va'>male_haireye_ca</span>, <span class='va'>female_haireye_ca</span>, <span class='st'>"rows"</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='fu'>ca_biplot</span><span class='op'>(</span><span class='va'>female_haireye_ca</span><span class='op'>)</span>
<span class='op'>)</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='alignment-7.png' alt='' width='700' height='433' /></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jason Cory Brunson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


